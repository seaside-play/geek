# 1 send

    #include <sys/socket.h>

    ssize_t send(int sockfd, const void *buf, size_t len, int flags);

  参数说明：

- `sockfd`：套接字描述符，用于指定要发送数据的套接字。
- `buf`：指向要发送的数据的指针。
- `len`：要发送的数据的长度。
- `flags`：发送数据时的选项，通常设置为0，但可以设置为以下值之一或多个（使用逻辑OR运算符|）：
  - MSG_NOSIGNAL：在发送数据时，如果对方已经关闭了连接，则忽略SIGPIPE信号，避免程序终止。如果不设置此选项，则默认会在发送数据时检查连接状态，如果连接已关闭则会发送SIGPIPE信号导致程序终止。
  - MSG_DONTWAIT：设置为非阻塞模式，即在发送数据时不会阻塞等待，而是立即返回，即使发送缓冲区已满。如果发送缓冲区已满，则会返回EAGAIN或EWOULDBLOCK错误。
  - MSG_MORE：表示还有更多的数据需要发送，可以用于拼接数据包，减少发送的次数。对于TCP连接，会将数据放到TCP的发送缓冲区中等待，直到发送缓冲区中的数据被成功发送或者出现错误。
  - MSG_CONFIRM：仅用于SOCK_DGRAM套接字类型，表示数据包需要得到确认，确保数据包成功发送。如果不设置此选项，则数据包不需要得到确认，可能会丢失或重复发送。
  - MSG_OOB：发送带外数据。
- `返回值`
  - 成功：返回实际发送的字节数。
  - 失败：返回-1，并设置errno以指示错误原因。


